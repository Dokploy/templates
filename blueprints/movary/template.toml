[variables]
main_domain = "${domain}"
tmdb_api_key = "${password:32}"
mysql_root_password = "${password:32}"
mysql_password = "${password:32}"

[config]
[[config.domains]]
serviceName = "app"
port = 80
host = "${main_domain}"
path = "/"

[config.env]
# app environment variables
TMDB_API_KEY = "${tmdb_api_key}"
TMDB_ENABLE_IMAGE_CACHING = "0"
DATABASE_MODE = "mysql"
DATABASE_MYSQL_HOST = "mysql"
DATABASE_MYSQL_NAME = "movary"
DATABASE_MYSQL_USER = "movary"
DATABASE_MYSQL_PASSWORD = "${mysql_password}"
DATABASE_MYSQL_PORT = "3306"
USER_ID = "3000"

# mysql environment variables
MYSQL_ROOT_PASSWORD = "${mysql_root_password}"
MYSQL_USER = "movary"
MYSQL_PASSWORD = "${mysql_password}"
MYSQL_DATABASE = "movary"
MYSQL_PORT = "3306"

[[config.mounts]]
filePath = "/var/lib/mysql"
content = ""