[variables]
main_domain = "${domain}"

# App Config
dumbpad_site_title = "DumbPad"
dumbpad_base_url = "https://${main_domain}"

# Security
dumbpad_pin = "${password:6}"
dumbpad_allowed_origins = "https://${main_domain}"

# PIN Lockout
dumbpad_lock_time = "15"
dumbpad_max_attempts = "5"

# Cookie Behavior
dumbpad_cookie_max_age = "24"
dumbpad_page_history_cookie_age = "365"

[config.env]
DUMBPAD_SITE_TITLE = "${dumbpad_site_title}"
DUMBPAD_PIN = "${dumbpad_pin}"
DUMBPAD_BASE_URL = "${dumbpad_base_url}"
DUMBPAD_ALLOWED_ORIGINS = "${dumbpad_allowed_origins}"
DUMBPAD_LOCK_TIME = "${dumbpad_lock_time}"
DUMBPAD_MAX_ATTEMPTS = "${dumbpad_max_attempts}"
DUMBPAD_COOKIE_MAX_AGE = "${dumbpad_cookie_max_age}"
DUMBPAD_PAGE_HISTORY_COOKIE_AGE = "${dumbpad_page_history_cookie_age}"

[config]
mounts = [
  { source = "dumbpad_data", target = "/app/data" }
]

[[config.domains]]
serviceName = "dumbpad"
port = 3000
host = "${main_domain}"
