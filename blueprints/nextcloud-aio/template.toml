[variables]
  domain_name = "${domain}"
  db_password = "${password:32}"
  db_root_password = "${password:32}"
  admin_user = "admin"
  admin_password = "${password:32}"
  region = "DE"

[config]
  env = [
    "NEXTCLOUD_ADMIN_USER=${admin_user}",
    "NEXTCLOUD_ADMIN_PASSWORD=${admin_password}",
    "APACHE_SERVERNAME=${domain_name}",
    "MYSQL_PASSWORD=${db_password}",
    "MYSQL_ROOT_PASSWORD=${db_root_password}",
    "DEFAULT_PHONE_REGION=${region}",
    "NEXTCLOUD_DOMAIN=${domain_name}",
    "OVERWRITEPROTOCOL=https",
    "TRUSTED_PROXIES=10.0.0.0/8 172.16.0.0/12",
    "REDIS_HOST=nextcloud_redis",
    "MYSQL_DATABASE=nextcloud",
    "MYSQL_USER=nextcloud"
  ]

  [[config.domains]]
    serviceName = "nextcloud"
    port = 80
    host = "${domain_name}"