[variables]
main_domain = "${domain}"
ta_password = "${password:32}" # TubeArchivist password
elastic_password = "${password:32}" # Elasticsearch password
ta_username = "tubearchivist"
timezone = "America/New_York"
host_uid = "1000"
host_gid = "1000"

[config]
[[config.domains]]
serviceName = "tubearchivist"
port = 8000
host = "${main_domain}"
path = "/"

[config.env]
# TubeArchivist environment variables
"ES_URL" = "http://archivist-es:9200"
"REDIS_CON" = "redis://archivist-redis:6379"
"HOST_UID" = "${host_uid}"
"HOST_GID" = "${host_gid}"
"TA_HOST" = "http://${main_domain}:8000"
"TA_USERNAME" = "${ta_username}"
"TA_PASSWORD" = "${ta_password}" # TubeArchivist credentials
"TZ" = "${timezone}"
"ELASTIC_PASSWORD" = "${elastic_password}" # Elasticsearch credentials

# Elasticsearch environment variables
"archivist-es.ELASTIC_PASSWORD" = "${elastic_password}" # Elasticsearch credentials

[[config.mounts]]
source = "media"
target = "/youtube"
serviceName = "tubearchivist"

[[config.mounts]]
source = "cache"
target = "/cache"
serviceName = "tubearchivist"

[[config.mounts]]
source = "redis"
target = "/data"
serviceName = "archivist-redis"

[[config.mounts]]
source = "es"
target = "/usr/share/elasticsearch/data"
serviceName = "archivist-es"