[variables]
domain = "${domain}"

# Ports
PORT = "3000"

# Supabase
SUPABASE_URL = "https://your-project.supabase.co"
SUPABASE_ANON_KEY = "your-supabase-anon-key"
SUPABASE_SERVICE_ROLE_KEY = "your-supabase-service-role-key"

# Redis
REDIS_PASSWORD = "${password:16}"
REDIS_SSL = "false"

# RabbitMQ
RABBITMQ_USER = "suna"
RABBITMQ_PASSWORD = "${password:16}"

# LLMs
ANTHROPIC_API_KEY = "your-anthropic-api-key"
OPENAI_API_KEY = ""
MODEL_TO_USE = "anthropic/claude-3-5-sonnet-latest"

# Web tools
TAVILY_API_KEY = "your-tavily-api-key"
FIRECRAWL_API_KEY = "your-firecrawl-api-key"

# Daytona
DAYTONA_API_KEY = "your-daytona-api-key"
DAYTONA_SERVER_URL = "https://app.daytona.io/api"
DAYTONA_TARGET = "us"

# QStash
QSTASH_URL = "https://qstash.upstash.io"
QSTASH_TOKEN = "your-qstash-token"
QSTASH_CURRENT_SIGNING_KEY = "your-current-signing-key"
QSTASH_NEXT_SIGNING_KEY = "your-next-signing-key"
WEBHOOK_BASE_URL = "http://${domain}"

# Optional APIs
RAPID_API_KEY = ""
SMITHERY_API_KEY = ""

# Security
MCP_CREDENTIAL_ENCRYPTION_KEY = "${base64:32}"

# Application
ENV_MODE = "production"
NEXT_PUBLIC_URL = "http://${domain}"
BACKEND_PORT = "8000"
FRONTEND_PORT = "${PORT}"
REDIS_PORT = "6379"
RABBITMQ_PORT = "5672"
RABBITMQ_MANAGEMENT_PORT = "15672"

[config.env]
# everything copied over
SUPABASE_URL = "${SUPABASE_URL}"
SUPABASE_ANON_KEY = "${SUPABASE_ANON_KEY}"
SUPABASE_SERVICE_ROLE_KEY = "${SUPABASE_SERVICE_ROLE_KEY}"
REDIS_PASSWORD = "${REDIS_PASSWORD}"
REDIS_SSL = "${REDIS_SSL}"
RABBITMQ_USER = "${RABBITMQ_USER}"
RABBITMQ_PASSWORD = "${RABBITMQ_PASSWORD}"
ANTHROPIC_API_KEY = "${ANTHROPIC_API_KEY}"
OPENAI_API_KEY = "${OPENAI_API_KEY}"
MODEL_TO_USE = "${MODEL_TO_USE}"
TAVILY_API_KEY = "${TAVILY_API_KEY}"
FIRECRAWL_API_KEY = "${FIRECRAWL_API_KEY}"
DAYTONA_API_KEY = "${DAYTONA_API_KEY}"
DAYTONA_SERVER_URL = "${DAYTONA_SERVER_URL}"
DAYTONA_TARGET = "${DAYTONA_TARGET}"
QSTASH_URL = "${QSTASH_URL}"
QSTASH_TOKEN = "${QSTASH_TOKEN}"
QSTASH_CURRENT_SIGNING_KEY = "${QSTASH_CURRENT_SIGNING_KEY}"
QSTASH_NEXT_SIGNING_KEY = "${QSTASH_NEXT_SIGNING_KEY}"
WEBHOOK_BASE_URL = "${WEBHOOK_BASE_URL}"
RAPID_API_KEY = "${RAPID_API_KEY}"
SMITHERY_API_KEY = "${SMITHERY_API_KEY}"
ENV_MODE = "${ENV_MODE}"
NEXT_PUBLIC_URL = "${NEXT_PUBLIC_URL}"
MCP_CREDENTIAL_ENCRYPTION_KEY = "${MCP_CREDENTIAL_ENCRYPTION_KEY}"

[config]
mounts = [
  { source = "redis_data", target = "/data" },
  { source = "rabbitmq_data", target = "/var/lib/rabbitmq" }
]

[[config.domains]]
serviceName = "frontend"
port = 3000
host = "${domain}"

[[config.domains]]
serviceName = "backend"
port = 8000
host = "api.${domain}"
